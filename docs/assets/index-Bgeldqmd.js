(function(){const I=document.createElement("link").relList;if(I&&I.supports&&I.supports("modulepreload"))return;for(const h of document.querySelectorAll('link[rel="modulepreload"]'))Y(h);new MutationObserver(h=>{for(const w of h)if(w.type==="childList")for(const q of w.addedNodes)q.tagName==="LINK"&&q.rel==="modulepreload"&&Y(q)}).observe(document,{childList:!0,subtree:!0});function V(h){const w={};return h.integrity&&(w.integrity=h.integrity),h.referrerPolicy&&(w.referrerPolicy=h.referrerPolicy),h.crossOrigin==="use-credentials"?w.credentials="include":h.crossOrigin==="anonymous"?w.credentials="omit":w.credentials="same-origin",w}function Y(h){if(h.ep)return;h.ep=!0;const w=V(h);fetch(h.href,w)}})();const vr=typeof global<"u"?global:typeof self<"u"?self:typeof window<"u"?window:{};(function(){var K=Object.defineProperty;function I(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof global=="object"&&global];for(var e=0;e<t.length;++e){var n=t[e];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}var V=I(this);function Y(t,e){if(e)t:{var n=V;t=t.split(".");for(var r=0;r<t.length-1;r++){var i=t[r];if(!(i in n))break t;n=n[i]}t=t[t.length-1],r=n[t],e=e(r),e!=r&&e!=null&&K(n,t,{configurable:!0,writable:!0,value:e})}}Y("Symbol.dispose",function(t){return t||Symbol("Symbol.dispose")});var h=this||self;function w(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function q(t,e){function n(){}n.prototype=e.prototype,t.qa=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.oa=function(r,i,s){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(r,o)}}function ut(t,e){if(Error.captureStackTrace)Error.captureStackTrace(this,ut);else{const n=Error().stack;n&&(this.stack=n)}t&&(this.message=String(t)),e!==void 0&&(this.cause=e)}q(ut,Error),ut.prototype.name="CustomError";function H(t){h.setTimeout(()=>{throw t},0)}var kt,xt;t:{for(var ke=["CLOSURE_FLAGS"],At=h,Bt=0;Bt<ke.length;Bt++)if(At=At[ke[Bt]],At==null){xt=null;break t}xt=At}var Be=xt&&xt[610401301];kt=Be??!1;var ft;const ze=h.navigator;ft=ze&&ze.userAgentData||null;function zt(t){return kt&&ft?ft.brands.some(({brand:e})=>e&&e.indexOf(t)!=-1):!1}function U(t){var e;t:{if((e=h.navigator)&&(e=e.userAgent))break t;e=""}return e.indexOf(t)!=-1}function F(){return kt?!!ft&&ft.brands.length>0:!1}function Jt(){return F()?zt("Chromium"):(U("Chrome")||U("CriOS"))&&!(!F()&&U("Edge"))||U("Silk")}function Je(t,e){e=Array.prototype.indexOf.call(t,e,void 0),e>=0&&Array.prototype.splice.call(t,e,1)}!U("Android")||Jt(),Jt(),U("Safari")&&(Jt()||!F()&&U("Coast")||!F()&&U("Opera")||!F()&&U("Edge")||(F()?zt("Microsoft Edge"):U("Edg/"))||F()&&zt("Opera"));function We(t){let e="",n=0;const r=t.length-10240;for(;n<r;)e+=String.fromCharCode.apply(null,t.subarray(n,n+=10240));return e+=String.fromCharCode.apply(null,n?t.subarray(n):t),btoa(e)}const Ge=/[-_.]/g,mr={"-":"+",_:"/",".":"="};function wr(t){return mr[t]||""}function Wt(t){return t!=null&&t instanceof Uint8Array}var ht={};function Et(){return Ke||(Ke=new dt(null,ht))}var dt=class{constructor(t,e){if(Ve(e),this.g=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}};let Ke;function Ve(t){if(t!==ht)throw Error("illegal external caller")}function Ye(t,e){t.__closure__error__context__984382||(t.__closure__error__context__984382={}),t.__closure__error__context__984382.severity=e}let qe;function He(){const t=Error();Ye(t,"incident"),H(t)}function Xe(t){return t=Error(t),Ye(t,"warning"),t}function Gt(){return typeof BigInt=="function"}function gt(t){return Array.prototype.slice.call(t)}function Kt(t,e){return e&&Symbol.for&&t?Symbol.for(t):t!=null?Symbol(t):Symbol()}var u=Kt("jas",!0),Vt=Kt(),Qe=Kt();function Sr(t,e){e[u]=(t|0)&-30975}function Yt(t,e){e[u]=(t|34)&-30941}var Tt={},xr={};function Ze(t){return!(!t||typeof t!="object"||t.g!==xr)}function qt(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}function tn(t,e){if(t!=null){if(typeof t=="string")t=t?new dt(t,ht):Et();else if(t.constructor!==dt)if(Wt(t))t=t.length?new dt(new Uint8Array(t),ht):Et();else{if(!e)throw Error();t=void 0}}return t}function Pt(t){return!Array.isArray(t)||t.length?!1:!!((t[u]|0)&1)}var en;const nn=[];nn[u]=55,en=Object.freeze(nn);function Nt(t){if(t&2)throw Error()}var Ar=Object.freeze({});function It(t){return t.pa=!0,t}var Er=It(t=>typeof t=="number"),rn=It(t=>typeof t=="string"),Tr=It(t=>typeof t=="boolean"),Ut=typeof h.BigInt=="function"&&typeof h.BigInt(0)=="bigint",Ht=It(t=>Ut?t>=Nr&&t<=Ur:t[0]==="-"?on(t,Pr):on(t,Ir));const Pr=Number.MIN_SAFE_INTEGER.toString(),Nr=Ut?BigInt(Number.MIN_SAFE_INTEGER):void 0,Ir=Number.MAX_SAFE_INTEGER.toString(),Ur=Ut?BigInt(Number.MAX_SAFE_INTEGER):void 0;function on(t,e){if(t.length>e.length)return!1;if(t.length<e.length||t===e)return!0;for(let n=0;n<t.length;n++){const r=t[n],i=e[n];if(r>i)return!1;if(r<i)return!0}}let v=0,A=0;function sn(t){const e=t>>>0;v=e,A=(t-e)/4294967296>>>0}function an(t){if(t<0){sn(-t);const[e,n]=Qt(v,A);v=e>>>0,A=n>>>0}else sn(t)}function Xt(t,e){if(e>>>=0,t>>>=0,e<=2097151)var n=""+(4294967296*e+t);else Gt()?n=""+(BigInt(e)<<BigInt(32)|BigInt(t)):(n=(t>>>24|e<<8)&16777215,e=e>>16&65535,t=(t&16777215)+n*6777216+e*6710656,n+=e*8147497,e*=2,t>=1e7&&(n+=t/1e7>>>0,t%=1e7),n>=1e7&&(e+=n/1e7>>>0,n%=1e7),n=e+ln(n)+ln(t));return n}function ln(t){return t=String(t),"0000000".slice(t.length)+t}function Qt(t,e){return e=~e,t?t=~t+1:e+=1,[t,e]}function cn(t){if(t==null||typeof t=="boolean")return t;if(typeof t=="number")return!!t}const jr=/^-?([1-9][0-9]*|0)(\.[0-9]+)?$/;function un(t){const e=typeof t;switch(e){case"bigint":return!0;case"number":return Number.isFinite(t)}return e!=="string"?!1:jr.test(t)}function L(t){if(t!=null){if(!Number.isFinite(t))throw Xe("enum");t|=0}return t}function Zt(t){if(t!=null&&typeof t=="string"){if(!t)return;t=+t}}function te(t){if(t!=null)t:{if(!un(t))throw Xe("int64");switch(typeof t){case"string":t=hn(t);break t;case"bigint":var e=t=BigInt.asIntN(64,t);if(rn(e)){if(!/^\s*(?:-?[1-9]\d*|0)?\s*$/.test(e))throw Error(String(e))}else if(Er(e)&&!Number.isSafeInteger(e))throw Error(String(e));Ut?t=BigInt(t):t=Tr(t)?t?"1":"0":rn(t)?t.trim()||"0":String(t);break t;default:t=fn(t)}}return t}function fn(t){if(t=Math.trunc(t),!Number.isSafeInteger(t)){an(t);var e=v,n=A;(t=n&2147483648)&&(e=~e+1>>>0,n=~n>>>0,e==0&&(n=n+1>>>0));const r=n*4294967296+(e>>>0);e=Number.isSafeInteger(r)?r:Xt(e,n),t=typeof e=="number"?t?-e:e:t?"-"+e:e}return t}function hn(t){var e=Math.trunc(Number(t));if(Number.isSafeInteger(e))return String(e);if(e=t.indexOf("."),e!==-1&&(t=t.substring(0,e)),!(t[0]==="-"?t.length<20||t.length===20&&Number(t.substring(0,7))>-922337:t.length<19||t.length===19&&Number(t.substring(0,6))<922337)){if(t.length<16)an(Number(t));else if(Gt())t=BigInt(t),v=Number(t&BigInt(4294967295))>>>0,A=Number(t>>BigInt(32)&BigInt(4294967295));else{e=+(t[0]==="-"),A=v=0;const n=t.length;for(let r=e,i=(n-e)%6+e;i<=n;r=i,i+=6){const s=Number(t.slice(r,i));A*=1e6,v=v*1e6+s,v>=4294967296&&(A+=Math.trunc(v/4294967296),A>>>=0,v>>>=0)}if(e){const[r,i]=Qt(v,A);v=r,A=i}}if(t=v,e=A,e&2147483648)if(Gt())t=""+(BigInt(e|0)<<BigInt(32)|BigInt(t>>>0));else{const[n,r]=Qt(t,e);t="-"+Xt(n,r)}else t=Xt(t,e)}return t}function _(t){if(t!=null&&typeof t!="string")throw Error();return t}function dn(t,e,n){if(t!=null&&typeof t=="object"&&t.H===Tt)return t;if(Array.isArray(t)){var r=t[u]|0,i=r;return i===0&&(i|=n&32),i|=n&2,i!==r&&(t[u]=i),new e(t)}}function Mr(t){yt===void 0&&(yt=typeof Proxy=="function"?yn(Proxy):null);var e;return(e=!yt)||(pt===void 0&&(pt=typeof WeakMap=="function"?yn(WeakMap):null),e=!pt),e?t:(e=gn(t))?e:Math.random()>.01?t:(Or(t),e=new yt(t,{set(n,r,i){return Cr(),n[r]=i,!0}}),br(t,e),e)}function Cr(){He()}let jt,ee;function gn(t){let e;return(e=jt)==null?void 0:e.get(t)}function br(t,e){(jt||(jt=new pt)).set(t,e),(ee||(ee=new pt)).set(e,t)}let yt,pt;function yn(t){try{return t.toString().indexOf("[native code]")!==-1?t:null}catch{return null}}let ne;function Or(t){if(ne===void 0){const e=new yt([],{});ne=Array.prototype.concat.call([],e).length===1}ne&&typeof Symbol=="function"&&Symbol.isConcatSpreadable&&(t[Symbol.isConcatSpreadable]=!0)}function Lr(t,e){return pn(e)}function pn(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"bigint":return Ht(t)?Number(t):String(t);case"boolean":return t?1:0;case"object":if(t)if(Array.isArray(t)){if(Pt(t))return}else{if(Wt(t))return We(t);if(t instanceof dt){const e=t.g;return e==null?"":typeof e=="string"?e:t.g=We(e)}}}return t}function _r(t,e,n){t=gt(t);var r=t.length;const i=e&256?t[r-1]:void 0;for(r+=i?-1:0,e=e&512?1:0;e<r;e++)t[e]=n(t[e]);if(i){e=t[e]={};for(const s in i)e[s]=n(i[s])}return t}function vn(t,e,n,r,i){if(t!=null){if(Array.isArray(t))t=Pt(t)?void 0:i&&(t[u]|0)&2?t:re(t,e,n,r!==void 0,i);else if(qt(t)){const s={};for(let o in t)s[o]=vn(t[o],e,n,r,i);t=s}else t=e(t,r);return t}}function re(t,e,n,r,i){const s=r||n?t[u]|0:0;r=r?!!(s&32):void 0,t=gt(t);for(let o=0;o<t.length;o++)t[o]=vn(t[o],e,n,r,i);return n&&n(s,t),t}function Rr(t){return t.H===Tt?t.toJSON():pn(t)}function mn(t,e,n=Yt){if(t!=null){if(t instanceof Uint8Array)return e?t:new Uint8Array(t);if(Array.isArray(t)){var r=t[u]|0;return r&2?t:(e&&(e=r===0||!!(r&32)&&!(r&64||!(r&16))),e?(t[u]=(r|34)&-12293,t):re(t,mn,r&4?Yt:n,!0,!0))}return t.H===Tt&&(n=t.m,r=n[u],t=r&2?t:new t.constructor(ie(n,r,!0))),t}}function ie(t,e,n){const r=n||e&2?Yt:Sr,i=!!(e&32);return t=_r(t,e,s=>mn(s,i,r)),t[u]=t[u]|32|(n?2:0),t}function oe(t){const e=t.m,n=e[u];return n&2?new t.constructor(ie(e,n,!1)):t}function R(t,e){return t=t.m,X(t,t[u],e)}function wn(t,e,n,r){if(e=r+(+!!(e&512)-1),!(e<0||e>=t.length||e>=n))return t[e]}function X(t,e,n,r){if(n===-1)return null;const i=e>>15&1023||536870912;if(n>=i){if(e&256)return t[t.length-1][n]}else{var s=t.length;if(r&&e&256&&(r=t[s-1][n],r!=null)){if(wn(t,e,i,n)&&Vt!=null){var o;t=(o=qe)!=null?o:qe={},o=t[Vt]||0,o>=4||(t[Vt]=o+1,He())}return r}return wn(t,e,i,n)}}function se(t,e,n){const r=t.m;let i=r[u];return Nt(i),S(r,i,e,n),t}function S(t,e,n,r){const i=e>>15&1023||536870912;if(n>=i){let s,o=e;if(e&256)s=t[t.length-1];else{if(r==null)return o;s=t[i+(+!!(e&512)-1)]={},o|=256}return s[n]=r,n<i&&(t[n+(+!!(e&512)-1)]=void 0),o!==e&&(t[u]=o),o}return t[n+(+!!(e&512)-1)]=r,e&256&&(t=t[t.length-1],n in t&&delete t[n]),e}function Q(t,e,n,r){return n=D(t,r)===n?n:-1,Sn(t,e,n)!==void 0}function Z(t){return!!(2&t)&&!!(4&t)||!!(2048&t)}function g(t,e,n,r){const i=t.m;let s=i[u];return Nt(s),S(i,s,e,(r==="0"?Number(n)===0:n===r)?void 0:n),t}function D(t,e){return t=t.m,le(ae(t),t,t[u],e)}function ae(t){let e;return(e=t[Qe])!=null?e:t[Qe]=new Map}function le(t,e,n,r){let i=t.get(r);if(i!=null)return i;i=0;for(let s=0;s<r.length;s++){const o=r[s];X(e,n,o)!=null&&(i!==0&&(n=S(e,n,i)),i=o)}return t.set(r,i),i}function Sn(t,e,n,r){t=t.m;let i=t[u];return r=X(t,i,n,r),e=dn(r,e,i),e!==r&&e!=null&&S(t,i,n,e),e}function ce(t,e,n){if(e=Sn(t,e,n,!1),e==null)return e;t=t.m;let r=t[u];if(!(r&2)){const i=oe(e);i!==e&&(e=i,S(t,r,n,e))}return e}function tt(t,e,n){return n==null&&(n=void 0),se(t,e,n)}function d(t,e,n,r){r==null&&(r=void 0);t:{const o=t.m;var i=o[u];if(Nt(i),r==null){var s=ae(o);if(le(s,o,i,n)===e)s.set(n,0);else break t}else{s=o;const l=ae(s),a=le(l,s,i,n);a!==e&&(a&&(i=S(s,i,a)),l.set(n,e))}S(o,i,e,r)}return t}function xn(t,e){const n=t.m;let r=n[u];if(Nt(r),e==null)return S(n,r,1),t;var i=e,s;e=((s=ee)==null?void 0:s.get(i))||i,s=i=e[u]|0;const o=Z(i),l=o||Object.isFrozen(e);let a=!0,p=!0;for(let x=0;x<e.length;x++){var m=e[x];o||(m=!!((m.m[u]|0)&2),a&&(a=!m),p&&(p=m))}return o||(i=a?13:5,i=p?i|16:i&-17),l&&i===s||(e=gt(e),s=0,i=Mt(i,r),i=ue(i,r,!0)),i!==s&&(e[u]=i),S(n,r,1,e),t}function Mt(t,e){return t=(2&e?t|2:t&-3)|32,t&=-2049}function ue(t,e,n){return 32&e&&n||(t&=-33),t}function et(t,e){return t??e}function An(t){return t=R(t,1),t!=null&&(typeof t=="bigint"?Ht(t)?t=Number(t):(t=BigInt.asIntN(64,t),t=Ht(t)?Number(t):String(t)):t=un(t)?typeof t=="number"?fn(t):hn(t):void 0),et(t,0)}function E(t,e){return t=R(t,e),et(t==null||typeof t=="string"?t:void 0,"")}function k(t,e){return t=R(t,e),t=t==null?t:Number.isFinite(t)?t|0:void 0,et(t,0)}function y(t,e,n,r){return n=D(t,r)===n?n:-1,ce(t,e,n)}let nt;function fe(t){try{return nt=!0,JSON.stringify(he(t),Lr)}finally{nt=!1}}function Dr(){var t=ir||(ir=$r("[1,2,0]"));t=oe(t),t=se(t,4,_("dev-706864954"));const e=t.m,n=e[u];return n&2?t:new t.constructor(ie(e,n,!0))}var c=class{constructor(t){t:{var e=e??0;if(t==null){var n=96;t=[]}else{if(!Array.isArray(t))throw Error("narr");if(n=t[u]|0,n&2048)throw Error("farr");if(n&64)break t;e===1||e===2||(n|=64),e=t;var r=e.length;if(r&&(--r,qt(e[r]))){if(n|=256,e=r-(+!!(n&512)-1),e>=1024)throw Error("pvtlmt");n=n&-33521665|(e&1023)<<15}}t[u]=n}this.m=t}toJSON(){return he(this)}};c.prototype.H=Tt,c.prototype.toString=function(){try{return nt=!0,he(this).toString()}finally{nt=!1}};function he(t){t=t.m,t=nt?t:re(t,Rr,void 0,void 0,!1);{var e=!nt;let p=t.length;if(p){var n=t[p-1],r=qt(n);r?p--:n=void 0;var i=t;if(r){t:{var s=n,o,l=!1;if(s){for(let m in s)if(isNaN(+m)){let x;((x=o)!=null?x:o={})[m]=s[m]}else if(r=s[m],Array.isArray(r)&&(Pt(r)||Ze(r)&&r.size===0)&&(r=null),r==null&&(l=!0),r!=null){let x;((x=o)!=null?x:o={})[m]=r}}if(l||(o=s),o)for(let m in o){l=o;break t}l=null}s=l==null?n!=null:l!==n}for(;p>0&&(o=i[p-1],!!(o==null||Pt(o)||Ze(o)&&o.size===0));p--)var a=!0;(i!==t||s||a)&&(e?(a||s||l)&&(i.length=p):i=Array.prototype.slice.call(i,0,p),l&&i.push(l)),a=i}else a=t}return a}function Ct(t){return e=>{if(e==null||e=="")e=new t;else{if(e=JSON.parse(e),!Array.isArray(e))throw Error("dnarr");e[u]|=32,e=new t(e)}return e}}var $r=(function(t){return e=>{if(e=JSON.parse(e),!Array.isArray(e)){var n=typeof e;throw Error("Expected jspb data to be an array, got "+(n!="object"?n:e?Array.isArray(e)?"array":n:"null")+": "+e)}return e[u]|=34,new t(e)}})(class extends c{}),En=class extends c{};function Fr(t){var e=new Nn(500);let n=0,r;return(...i)=>{Tn(e)?t(...i):(r=()=>void t(...i),n||(n=setTimeout(()=>{n=0;let s;(s=r)==null||s()},Br(e))))}}function kr(t){var e=new Nn(100),n=Promise.resolve();return(...r)=>Tn(e)?t(...r):n}function Tn(t){return Pn(t,t.index)>=t.g?(t.h[t.index]=Date.now(),t.index=(t.index+1)%1,!0):!1}function Br(t){const e=t.g;return t=Pn(t,t.index),t>=e?0:e-t}function Pn(t,e){let n;return Date.now()-((n=t.h[e])!=null?n:-1*t.g)}var Nn=class{constructor(t){this.g=t,this.h=[],this.index=0}},In=class extends c{},zr=[2,3],Jr=class extends c{},f=class extends Error{constructor({errorType:t,message:e,i:n}){super(`Meet Add-on SDK error: ${`${e}${n?` - ${n}`:""}`}`),this.errorType=t}},B={errorType:"InternalError",message:"An unexpected error has occurred.",i:"No further information is available."},Un={errorType:"MissingUrlParameter",message:"Missing required Meet SDK URL parameter",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not strip URL parameters (e.g. as part of a redirect)."},jn={errorType:"NeedsMainStageContext",message:"This method can only be invoked if the addon is running in the main stage.",i:"Use getFrameType to check whether the addon is running in the main stage before invoking this method."},Wr={errorType:"NeedsSidePanelContext",message:"This method can only be invoked if the addon is running in the side panel.",i:"Use getFrameType to check whether the addon is running in the side panel before invoking this method."},Gr={errorType:"NotSupportedInStandalone",message:"This method is not supported in standalone mode.",i:"Do not call this method in standalone mode."},Kr={errorType:"InternalError",message:"The frame type URL parameter is set to an unexpected value.",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect)."},Vr={errorType:"InvalidCloudProjectNumber",message:"Cloud Project Number provided by meet does not match the one passed in by the SDK. Ensure that the correct Cloud Project Number is passed to the SDK as a string.",i:"This parameter is automatically appended by Meet to the iframe URL. Ensure that your infrastructure does not modify URL parameters (e.g. as part of a redirect) and ensure that the correct Cloud Project Number was passed into the SDK as a string."},Yr={errorType:"DestinationNotReady",message:"The recipient frame is not connected via the addon SDK and cannot receive the notification.",i:"Make sure the destination frame has connected before sending messages to it."},qr={errorType:"InvalidActivityStartingState",message:"Origin of the ActivityStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",i:"Ensure that the ActivityStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},Hr={errorType:"ActivityStartingStateMissingAttributes",message:"The supplied ActivityStartingState object does not contain any recognized attributes.",i:"Ensure that the ActivityStartingState object contains at least one of the following attributes: mainStageUrl, sidePanelUrl, additionalData."},Xr={errorType:"ActivityStartingStateUnrecognizedAttributes",message:"The supplied ActivityStartingState object contains attributes that are not recognized.",i:"Ensure that the ActivityStartingState object has only the following attributes: mainStageUrl, sidePanelUrl, additionalData."},Qr={errorType:"AddonStartingStateMissingAttributes",message:"The supplied AddonStartingState object does not contain any recognized attributes.",i:"Ensure that the AddonStartingState object contains at least one of the following attributes: sidePanelUrl, additionalData."},Zr={errorType:"AddonStartingStateUnrecognizedAttributes",message:"The supplied AddonStartingState object contains attributes that are not recognized.",i:"Ensure that the AddonStartingState object has only the following attributes: sidePanelUrl, additionalData."},de=t=>({errorType:"ArgumentNullError",message:`The argument supplied for '${t}' was 'null' but a value was expected.`,i:"Ensure you are passing a value of the expected type for the argument."}),C=(t,e,n)=>({errorType:"ArgumentTypeError",message:`The type '${e}' of argument supplied for '${t}' did not match the expected type '${n}'.`,i:"Ensure the type of the argument provided matches the expected type."}),Mn=t=>({errorType:"InternalError",message:`Could not connect to ${t} channel. Unknown error`,i:"No further information is available."}),ti={errorType:"ActivityIsOngoing",message:"Operation cannot be performed while an activity is ongoing.",i:"Ensure that no activity is ongoing."},ei={errorType:"InternalError",message:"Frame message missing required Meet SDK command.",i:"Send one of the available commands in the frame message."},ni={errorType:"NoActivityFound",message:"No activity found.",i:"Ensure that the activity is started before performing this operation."},ri={errorType:"RequiresEapEnrollment",message:"This feature is only available to early access partners.",i:"Meet add-on early access enrollment is currently closed."},ii={errorType:"UserNotInitiator",message:"Operation cannot be performed because the user is not the initiator of the current activity.",i:"Ensure that the user is the initiator of the current activity or that the activity has ended."},oi={errorType:"SizeLimitExceededActivityStartingState",message:"The size of the activityStartingState URLs and/or its data exceed the limits allowed.",i:"Ensure that the activityStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},si={errorType:"SizeLimitExceededFrameToFrameMessage",message:"The size of the frame to frame message exceeds the limits allowed.",i:"Ensure that the frame to frame message size is less than 1,000,000 characters."},ai={errorType:"AddonSessionAlreadyCreated",message:"The addon session has already been created.",i:"Only instantiate the AddonSession once."},li={errorType:"UserCancelled",message:"The user cancelled starting an activity.",i:"The user needs to click continue to start the activity."},ci={errorType:"NotSupportedInMeetCall",message:"This method is not supported during a Meet call.",i:"Do not call this method during a Meet call."},ui={errorType:"InvalidAddonStartingState",message:"Origin of the AddonStartingState iframeURLs does not match the origin of the URLs provided in the Add-on manifest.",i:"Ensure that the AddonStartingState iframeURL origins match the origins of the URLs provided in the Add-on manifest."},fi={errorType:"SizeLimitExceededAddonStartingState",message:"The size of the AddonStartingState URLs and/or its data exceed the limits allowed.",i:"Ensure that the AddonStartingState URL size is less than 512 characters and the additional data size is less than 4096 characters."},hi={errorType:"MeetingPolicyPreventsStartingActivity",message:"A meeting policy (such as using host control settings) prevents the user from starting the activity.",i:"Have a meeting host or administrator modify the necessary settings to allow the current user to start the activity."};function di(t){switch(t){case 0:return B;case 1:return Yr;case 2:return qr;case 3:return ti;case 4:return ei;case 5:return ri;case 6:return Gr;case 7:return ii;case 8:return oi;case 9:return si;case 10:return li;case 11:return ci;case 12:return ui;case 13:return fi;case 14:return ni;case 15:return hi;default:return B}}function gi(t){let e;var n=(e=k(t,1))!=null?e:0;switch(t=yi(D(t,zr)),n){case 1:return{errorType:"InternalError",message:`Could not connect to ${t} channel. Meet did not respond with a MessagePort.`,i:"No further information is available."};case 2:return{errorType:"InternalError",message:`Could not connect to ${t}. A conflicting ${t} exists.`,i:"No further information is available."};case 3:return{errorType:"InternalError",message:`Could not connect to ${t} channel. The addon does not have permission to open a ${t}.`,i:"This method might require EAP enrollment."};case 4:return{errorType:"InternalError",message:`Could not connect to ${t} channel. The addon is not authorized for this ${t}.`,i:"No further information is available."};case 0:return Mn(t);case 5:t:switch(t){case"co":n={errorType:"InternalError",message:`Could not connect to ${t} channel. The coActivity was not found.`,i:`Consider starting the ${t} only after after the startActivity promise returns.`};break t;default:n={errorType:"InternalError",message:`Could not connect to ${t} channel.`,i:"No further information is available."}}return n;default:return Mn(t)}}function yi(t){switch(t){case 2:return"co";case 3:return"gd";case 0:return"unknown";default:return"unknown"}}function rt({errorType:t,message:e,i:n},r=""){throw new f({errorType:t,message:r?`${e} ${r}`:e,i:n})}function bt(t,e){rt({...Un,message:`${Un.message}: ${t}. In URL ${e}`})}function ge(t){var e=new Cn;return g(e,1,L(t),0)}function ye(t,e){return g(t,2,_(e),"")}function pe(t,e){return g(t,3,_(e),"")}var Cn=class extends c{getFrameType(){return k(this,1)}};function bn(t){var e;Ar===void 0?e=2:e=4;var n=t.m[u],r=n,i=!(2&n),s=Cn;t=t.m,e=(n=!!(2&r))?1:e,i&&(i=!n),n=X(t,r,1),n=Array.isArray(n)?n:en;var o=n[u]|0,l=!!(4&o);if(!l){var a=o;a===0&&(a=Mt(a,r)),o=n,a|=1;var p=r;const $t=!!(2&a);$t&&(p|=2);let Re=!$t,De=!0,Ft=0,$e=0;for(;Ft<o.length;Ft++){const Fe=dn(o[Ft],s,p);if(Fe instanceof s){if(!$t){const pr=!!((Fe.m[u]|0)&2);Re&&(Re=!pr),De&&(De=pr)}o[$e++]=Fe}}$e<Ft&&(o.length=$e),a|=4,a=De?a|16:a&-17,a=Re?a|8:a&-9,o[u]=a,$t&&Object.freeze(o),o=a}if(i&&!(8&o||!n.length&&(e===1||e===4&&32&o))){for(Z(o)&&(n=gt(n),o=Mt(o,r),r=S(t,r,1,n)),i=n,s=o,o=0;o<i.length;o++)a=i[o],p=oe(a),a!==p&&(i[o]=p);s|=8,s=i.length?s&-17:s|16,o=i[u]=s}let m;if(e===1||e===4&&32&o){if(!Z(o)){r=o;var x=!!(32&o);o|=!n.length||16&o&&(!l||x)?2:2048,o!==r&&(n[u]=o),Object.freeze(n)}}else l=e!==5?!1:!!(32&o)||Z(o)||!!gn(n),(e===2||l)&&Z(o)&&(n=gt(n),o=Mt(o,r),o=ue(o,r,!1),n[u]=o,r=S(t,r,1,n)),Z(o)||(t=o,o=ue(o,r,!1),o!==t&&(n[u]=o)),l?m=Mr(n):e===2&&((x=jt)==null||x.delete(n));return m||n}function On(t){var e=new Ln;return xn(e,t)}var Ln=class extends c{},pi=class extends c{};function ve(t){var e=new vi;return g(e,1,L(t),0)}var vi=class extends c{},mi=class extends c{},wi=class extends c{},Si=class extends c{},xi=class extends c{getMeetingInfo(){return y(this,Si,3,me)}getMeetPlatformInfo(){return y(this,wi,4,me)}},me=[2,3,4,5],Ot=class extends c{},it=[1,4,5,6,7,8,9,10,11,12,13,14,15,16,17],Ai=class extends c{},Ei=class extends c{},Ti=new Map([[2,"MAIN_STAGE"],[1,"SIDE_PANEL"]]),Pi=new Map([[0,"UNKNOWN"],[1,"OPEN_ADDON"],[2,"START_ACTIVITY"],[3,"JOIN_ACTIVITY"]]);function Ni(t){t&&typeof t.dispose=="function"&&t.dispose()}function $(){this.s=this.s,this.g=this.g}$.prototype.s=!1,$.prototype.dispose=function(){this.s||(this.s=!0,this.G())},$.prototype[Symbol.dispose]=function(){this.dispose()};function _n(t,e){t.s?e():(t.g||(t.g=[]),t.g.push(e))}$.prototype.G=function(){if(this.g)for(;this.g.length;)this.g.shift()()};function Rn({J:t,R:e}){if(t===null)throw new f(de("activityStartingState"));if(e||t!==void 0){if(typeof t!="object")throw new f(C("activityStartingState",typeof t,`object${e?"":" | undefined"}`));if(t.mainStageUrl!==void 0&&typeof t.mainStageUrl!="string")throw new f(C("mainStageUrl",typeof t.mainStageUrl,"string | undefined"));if(t.sidePanelUrl!==void 0&&typeof t.sidePanelUrl!="string")throw new f(C("sidePanelUrl",typeof t.sidePanelUrl,"string | undefined"));if(t.additionalData!==void 0&&typeof t.additionalData!="string")throw new f(C("additionalData",typeof t.additionalData,"string | undefined"));if(Object.keys(t).length!==+!!t.mainStageUrl+ +!!t.sidePanelUrl+ +!!t.additionalData)throw new f(Xr);if(Object.keys(t).length===0)throw new f(Hr)}}function Dn(t){const e=[];return e.push(pe(ye(ge(2),t.mainStageUrl),t.additionalData)),e.push(pe(ye(ge(1),t.sidePanelUrl),t.additionalData)),e}var we=class extends ${constructor(t){super(),this.context=t,this.h={},mt(this.context.g.U,e=>{switch(D(e.content,it)){case 7:const r=this.h.frameToFrameMessage;if(e=y(e.content,mi,7,it),r&&e){var n=k(e,1);if(n=Ti.get(n),n===void 0)throw Error("Unknown frame type.");r({originator:n,payload:E(e,2)})}}})}async getMeetingInfo(){const t=await Ce(this.context.g,ve(2));return{meetingId:E(t.getMeetingInfo(),1),meetingCode:E(t.getMeetingInfo(),2)}}async getFrameOpenReason(){let t;const e=(t=this.context.h.ca)!=null?t:0;let n;return(n=Pi.get(e))!=null?n:"UNKNOWN"}async getActivityStartingState(){var t=y(await Ce(this.context.g,ve(1)),Ln,2,me);const e=t==null?void 0:bn(t).find(n=>n.getFrameType()===2);return t=t==null?void 0:bn(t).find(n=>n.getFrameType()===1),{mainStageUrl:(e==null?void 0:E(e,2))||void 0,sidePanelUrl:(t==null?void 0:E(t,2))||void 0,additionalData:(t==null?void 0:E(t,3))||void 0}}async setActivityStartingState(t){Rn({J:t,R:!0});var e=Dn(t);t=ho;var n=this.context.g,r=new Ai;e=On(e),r=tt(r,1,e),await t(n,r)}on(t,e){this.h[t]=e}async getMeetPlatformInfo(){const t=await Ce(this.context.g,ve(3));return{isMeetHardware:et(cn(R(t.getMeetPlatformInfo(),1)),!1)}}async closeAddon(){await go(this.context.g)}async startActivity(t){Rn({J:t,R:!1});const e=new Ei;t&&(t=Dn(t),t=On(t),tt(e,1,t)),await yo(this.context.g,e)}async endActivity(t){var e=po,n=this.context.g,r=new pi;t=g(r,1,L(t==="aab61ee0-51b4-475d-aa4d-849f2498640d"?999:0),0),await e(n,t)}},Ii=Ct(class extends c{getFrameOpenReason(){return k(this,5)}});function Se(){var t=window.location.href,e=window.location.href,n=new URL(e).searchParams.get("meet_sdk");if(n?e=Ii(atob(n)):(bt("meet_sdk",e),e=void 0),(n=E(e,1))||bt("meet_addon_frame_type",t),n=Number(n),n!==2&&n!==1)throw new f(Kr);const r=E(e,2);r||bt("meet_control_channel_name",t);const i=E(e,4);i||bt("addon_cloud_project_number",t);var s;return t=(s=e.getFrameOpenReason())!=null?s:0,s=E(e,3)||"https://meet.google.com",{ca:t,frameType:n,ba:r,cloudProjectNumber:i,S:s}}var Ui=class extends c{},ji=class extends c{};function Mi(){var t=new Ci,e=new ji;return d(t,1,bi,e)}var Ci=class extends c{},bi=[1,2];function Oi(t){var e=new _i;return tt(e,2,t)}function Li(t,e){return g(t,3,_(e),"")}var _i=class extends c{},Ri=class extends c{},Di=class extends c{},$i=class extends c{},Fi=class extends c{},ki=class extends c{setAddonStartingState(t){return tt(this,1,t)}},Bi=class extends c{};function zi(t,e){return d(t,2,P,e)}var T=class extends c{},P=[1,2,5,6,7,8,9,10,11,13,14,15,16],$n=class extends c{},Lt=Ct($n),ot=[1,2];class Ji{constructor(e,n){this.data=e,this.channel=n}}var Wi=Promise;function Fn(t){const e=new MessageChannel;return kn(e.port1,t),e}function xe(t,e){return kn(t,e),new Gi(t)}class Gi{constructor(e){this.g=e}send(e,n,r=[]){n=Fn(n),this.g.postMessage(e,[n.port2].concat(r))}C(e,n){return new Wi(r=>{this.send(e,r,n)})}}function kn(t,e){e&&(t.onmessage=n=>{var r=n.data;n=xe(n.ports[0]),e(new Ji(r,n))})}var Ae=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?t=>t&&AsyncContext.Snapshot.wrap(t):t=>t;function Bn(t,e){t.l(e),t.h<100&&(t.h++,e.next=t.g,t.g=e)}class zn{constructor(e,n){this.j=e,this.l=n,this.h=0,this.g=null}get(){let e;return this.h>0?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.j(),e}}function Ki(){var t=Wn;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Vi{constructor(){this.h=this.g=null}add(e,n){const r=Jn.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var Jn=new zn(()=>new Yi,t=>t.reset());class Yi{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}let Ee,Te=!1,Wn=new Vi,Pe=(t,e)=>{Ee||qi(),Te||(Ee(),Te=!0),Wn.add(t,e)},qi=()=>{const t=Promise.resolve(void 0);Ee=()=>{t.then(Hi)}};function Hi(){let t;for(;t=Ki();){try{t.h.call(t.g)}catch(e){H(e)}Bn(Jn,t)}Te=!1}function Gn(){}function b(t){if(this.g=0,this.T=void 0,this.l=this.h=this.j=null,this.v=this.B=!1,t!=Gn)try{const e=this;t.call(void 0,function(n){st(e,2,n)},function(n){st(e,3,n)})}catch(e){st(this,3,e)}}function Kn(){this.next=this.context=this.h=this.l=this.g=null,this.j=!1}Kn.prototype.reset=function(){this.context=this.h=this.l=this.g=null,this.j=!1};var Vn=new zn(function(){return new Kn},function(t){t.reset()});function Ne(t,e,n){const r=Vn.get();return r.l=t,r.h=e,r.context=n,r}function Xi(){let t,e;const n=new b(function(r,i){t=r,e=i});return new eo(n,t,e)}b.prototype.then=function(t,e,n){return Qi(this,Ae(typeof t=="function"?t:null),Ae(typeof e=="function"?e:null),n)},b.prototype.$goog_Thenable=!0;function Yn(t,e){e=Ae(e),e=Ne(e,e),e.j=!0,Ie(t,e)}b.prototype.cancel=function(t){if(this.g==0){const e=new O(t);Pe(function(){qn(this,e)},this)}};function qn(t,e){if(t.g==0)if(t.j){var n=t.j;if(n.h){var r=0,i=null,s=null;for(let o=n.h;o&&(o.j||(r++,o.g==t&&(i=o),!(i&&r>1)));o=o.next)i||(s=o);i&&(n.g==0&&r==1?qn(n,e):(s?(r=s,r.next==n.l&&(n.l=r),r.next=r.next.next):Xn(n),Qn(n,i,3,e)))}t.j=null}else st(t,3,e)}function Ie(t,e){t.h||t.g!=2&&t.g!=3||Hn(t),t.l?t.l.next=e:t.h=e,t.l=e}function Qi(t,e,n,r){const i=Ne(null,null,null);return i.g=new b(function(s,o){i.l=e?function(l){try{const a=e.call(r,l);s(a)}catch(a){o(a)}}:s,i.h=n?function(l){try{const a=n.call(r,l);a===void 0&&l instanceof O?o(l):s(a)}catch(a){o(a)}}:o}),i.g.j=t,Ie(t,i),i.g}b.prototype.ma=function(t){this.g=0,st(this,2,t)},b.prototype.na=function(t){this.g=0,st(this,3,t)};function st(t,e,n){if(t.g==0){t===n&&(e=3,n=new TypeError("Promise cannot resolve to itself")),t.g=1;t:{var r=n,i=t.ma,s=t.na;if(r instanceof b){Ie(r,Ne(i||Gn,s||null,t));var o=!0}else{if(r)try{var l=!!r.$goog_Thenable}catch{l=!1}else l=!1;if(l)r.then(i,s,t),o=!0;else{if(l=typeof r,l=="object"&&r!=null||l=="function")try{const a=r.then;if(typeof a=="function"){Zi(r,a,i,s,t),o=!0;break t}}catch(a){s.call(t,a),o=!0;break t}o=!1}}}o||(t.T=n,t.g=e,t.j=null,Hn(t),e!=3||n instanceof O||to(t,n))}}function Zi(t,e,n,r,i){function s(a){l||(l=!0,r.call(i,a))}function o(a){l||(l=!0,n.call(i,a))}let l=!1;try{e.call(t,o,s)}catch(a){s(a)}}function Hn(t){t.B||(t.B=!0,Pe(t.la,t))}function Xn(t){let e=null;return t.h&&(e=t.h,t.h=e.next,e.next=null),t.h||(t.l=null),e}b.prototype.la=function(){let t;for(;t=Xn(this);)Qn(this,t,this.g,this.T);this.B=!1};function Qn(t,e,n,r){if(n==3&&e.h&&!e.j)for(;t&&t.v;t=t.j)t.v=!1;if(e.g)e.g.j=null,Zn(e,n,r);else try{e.j?e.l.call(e.context):Zn(e,n,r)}catch(i){tr.call(null,i)}Bn(Vn,e)}function Zn(t,e,n){e==2?t.l.call(t.context,n):t.h&&t.h.call(t.context,n)}function to(t,e){t.v=!0,Pe(function(){t.v&&tr.call(null,e)})}var tr=H;function O(t){ut.call(this,t)}q(O,ut),O.prototype.name="cancel";function eo(t,e,n){this.promise=t,this.resolve=e,this.reject=n}let no=1,vt=new WeakMap;function _t(t,e,n){var r=ro;t.h.has(e),r(e,n)}var Ue=class extends ${constructor(){super(),this.h=new Set}signal(){const t=new oo;return this.h.add(t),_n(this,w(Ni,t)),t}};function ro(t,e){return new Promise(n=>{at(()=>{t.L&&(t.ea=e,t.P=!0);for(const{I:r,slot:i}of t.o.values())try{i(e,{signal:t,I:r})}catch(s){H(s)}for(const r of t.A)r.resolve(e);t.A.clear(),n()})})}function mt(t,e,n){const r=no++;return at(()=>{io(t,r,e,n)}),r}function io(t,e,n,r){if(!t.s)if(r){if(!r.s){const i=()=>{at(()=>{t.o.delete(e);const s=vt.get(r);s&&Je(s,i)})};t.o.set(e,{I:e,slot:n,F:i}),nr(r,i)}}else t.o.set(e,{I:e,slot:n,F:()=>t.o.delete(e)})}var oo=class extends ${constructor(){super(),this.L=!1,this.o=new Map,this.A=new Set,this.P=!1}detach(t){at(()=>{const e=this.o.get(t);e&&e.F()})}value(t){return this.promise(!0,t)}next(t){return this.promise(!1,t)}promise(t,e){const n=Xi();return at(()=>{if(this.s)n.reject(new O("Signal initially disposed"));else if(e&&e.s)n.reject(new O("Owner initially disposed"));else if(t&&this.L&&this.P)n.resolve(this.ea);else if(this.A.add(n),Yn(n.promise,()=>{this.A.delete(n)}),e){const r=()=>{n.reject(new O("Owner asynchronously disposed"))};Yn(n.promise,()=>{const i=vt.get(e);i&&Je(i,r)}),nr(e,r)}}),n.promise}G(){super.G(),at(()=>{for(const{F:t}of this.o.values())t();this.o.clear();for(const t of this.A)t.reject(new O("Signal asynchronously disposed"));this.A.clear()})}};const wt=[];let je=!1;function at(t){wt.push(t),so()}async function so(){if(!je)try{je=!0;let t=er(0);for(;t<wt.length;)await Promise.resolve(),t=er(t)}catch(t){H(t)}finally{wt.length=0,je=!1}}function er(t){const e=t+100;for(;t<e&&t<wt.length;)try{wt[t++]()}catch(n){H(n)}return t}function nr(t,e){if(t.s)e();else{var n=vt.get(t);if(n)n.push(e);else{const r=[e];vt.set(t,r),_n(t,()=>{for(const i of[...r])i();vt.delete(t)})}}}function N(t){var e=new $n;return t=d(e,1,ot,t),{content:fe(t)}}const rr=new Ue;function ao(t,e){const n=rr.signal();return{channel:xe(t,r=>{const i=e(r.data);_t(rr,n,{content:i,ka:r})}),signal:n}}let ir;var z=class extends c{},J=class extends c{},Me=class extends c{h(){return y(this,z,2,Rt)}g(){return Q(this,z,2,Rt)}j(){return y(this,J,3,Rt)}l(){return Q(this,J,3,Rt)}},Rt=[2,3],lo=Ct(class extends c{}),co=Ct(class extends c{}),Dt=[1,2],uo=({destination:t,origin:e,ra:n,Y:r="ZNWN1d",onMessage:i})=>{if(e==="*")throw Error("Sending to wildcard origin not allowed.");const s=Fn(i);return t.postMessage(n?{n:r,t:n}:r,e,[s.port2]),xe(s.port1,i)};function fo(t,e,n){const r=new Ue,i=r.signal();return t=uo({destination:window.parent,origin:e,Y:t,onMessage:s=>{const o=Lt(s.data.content);D(o,ot)===2&&_t(r,i,{content:y(o,Ot,2,ot),ka:s,messagePort:s.data.messagePort})}}),new Ao(i,t,n)}async function Ce(t,e){var n=j,r=new T;e=d(r,9,P,e),t=await n(t,N(e));let i;return(i=y(Lt(t.data.content),Ot,2,ot))==null?void 0:y(i,xi,9,it)}async function ho(t,e){var n=j,r=new T;e=d(r,8,P,e),await n(t,N(e))}async function go(t){var e=j,n=new T,r=new Ui;n=d(n,11,P,r),await e(t,N(n))}async function yo(t,e){var n=j,r=new T;e=d(r,14,P,e),await n(t,N(e))}async function po(t,e){var n=j,r=new T;e=d(r,15,P,e),await n(t,N(e))}async function vo(t){await t.h()}async function j(t,e){(t=await t.channel.C(e))||rt(B,`Falsy response received from the message channel. ${JSON.stringify(t)}`),(e=t.data)||rt(B,`Data field in the response from the message channel is falsy. ${JSON.stringify(e)}`),(e=e.content)||rt(B,`Content field in the response from the message channel is falsy. ${JSON.stringify(e)}`);let n;try{n=Lt(e)}catch(r){rt(B,`The ControlMessage can't be deserialized. ${JSON.stringify(e)}. ${JSON.stringify(r)}`)}if((e=y(n,Ot,2,ot))||rt(B,`MeetToAddonMessage field on ControlMessage is falsy. ${JSON.stringify(e)}`),e=e==null?void 0:y(e,Jr,10,it),(e==null?void 0:k(e,1))!==void 0)throw new f(di(k(e,1)));return t}async function mo(t,e,n){var r=j,i=new T;e=d(i,1,P,e),r=await r(t,N(e)),t=r.data.messagePort;var s;return(r=(s=y(Lt(r.data.content),Ot,2,ot))==null?void 0:y(s,In,1,it))!=null?s=r:(s=new In,s=g(s,1,L(0),0)),{channel:t?ao(t,n):void 0,response:s}}async function or(t){const e=Mi(),{channel:n,response:r}=await mo(t,e,i=>co(i));if(!n)throw new f(gi(r));return n}async function wo(t){var e=j,n=new T,r=new Bi;n=d(n,5,P,r),await e(t,N(n))}async function So(t){var e=j,n=new T,r=new Ri;n=d(n,6,P,r),await e(t,N(n))}async function sr(t,e,n){var r=j,i=new T,s=new Di;e=g(s,1,L(e),0),n=g(e,2,_(n),""),i=d(i,7,P,n),await r(t,N(i))}async function xo(t,e){var n=j,r=new T;e=d(r,16,P,e),await n(t,N(e))}class Ao extends ${constructor(e,n,r){super(),this.U=e,this.channel=n,this.h=kr(async()=>{var i=this.channel,s=i.C,o=new T,l=new $i;o=d(o,13,P,l),await s.call(i,N(o))}),e=Dr(),E(e,4),Zt(R(e,1)),Zt(R(e,2)),Zt(R(e,3)),r=zi(new T,Li(Oi(e),r)),this.channel.send(N(r)),mt(this.U,async i=>{switch(D(i.content,it)){case 16:await vo(this)}})}}let be;var Eo=class{constructor(t){var e=be;this.h=t,this.g=e}delete(){throw Error("Not implemented.")}},To=class extends c{h(){return y(this,z,2,lt)}g(){return Q(this,z,2,lt)}j(){return y(this,J,3,lt)}l(){return Q(this,J,3,lt)}},lt=[2,3],Po=class extends c{},No=class extends c{},Io=class extends c{},Uo=class extends c{h(){return y(this,z,2,ct)}g(){return Q(this,z,2,ct)}j(){return y(this,J,3,ct)}l(){return Q(this,J,3,ct)}},ct=[2,3],ar=[5,6],jo=class extends c{},Oe=class extends c{},Le=[1,2,3],Mo=class extends Error{constructor(){super("Failed to create CoActivity: Connection refused - Meet refused to begin Live Sharing")}},Co=class{constructor(t){this.config=t}start(){return this.g!=null||(this.g=setInterval(()=>{this.config.ha()},this.config.da)),this}shutdown(){clearInterval(this.g)}};function _e(){const t=new Map,e={set(n,r){return t.set(n,r),e},D:()=>t};return e}function bo(t){if(t.g()){t=t.h().m;var e=t[u],n=X(t,e,1),r=tn(n,!0);if(r!=null&&r!==n&&S(t,e,1,r),t=r,e=t??Et(),t=Uint8Array,Ve(ht),n=e.g,n!=null&&!Wt(n))if(typeof n=="string"){Ge.test(n)&&(n=n.replace(Ge,wr)),n=atob(n),r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);n=r}else n=null;return e=n==null?n:e.g=n,{bytes:new t(e||0)}}}function Oo(t,e){return e=lr(e),d(t,2,ct,e),t}function Lo(t,e){return e=lr(e),d(t,2,lt,e),t}function lr(t){var e=new z;return g(e,1,tn(t.bytes,!1),Et())}function _o(t){if(t.l()){t=t.j();var e,n,r=E(t,1),i=(n=(e=ce(t,En,2))==null?void 0:An(e))!=null?n:0;n=t.m;let s=n[u];const o=X(n,s,4);return e=o==null||typeof o=="number"?o:o==="NaN"||o==="Infinity"||o==="-Infinity"?Number(o):void 0,e!=null&&e!==o&&S(n,s,4,e),{mediaId:r,mediaPlayoutPosition:i,mediaPlayoutRate:et(e,0),playbackState:$o.get(k(t,3))}}}function Ro(t,e){return e=cr(e),d(t,3,ct,e),t}function Do(t,e){return e=cr(e),d(t,3,lt,e),t}const $o=_e().set(0,"INVALID").set(1,"BUFFERING").set(2,"PLAY").set(3,"PAUSE").set(4,"ENDED").D(),Fo=_e().set("INVALID",0).set("BUFFERING",1).set("PLAY",2).set("PAUSE",3).set("ENDED",4).D();function cr(t){var e=new J;e=g(e,1,_(t.mediaId),"");var n=t.mediaPlayoutRate;if(n!=null&&typeof n!="number")throw Error(`Value of float/double field must be a number, found ${typeof n}: ${n}`);return e=g(e,4,n,0),n=new En,n=g(n,1,te(t.mediaPlayoutPosition),"0"),e=tt(e,2,n),t=Fo.get(t.playbackState),g(e,3,L(t),0)}function ko({activityTitle:t}){var e=new Io;return se(e,4,_(t))}function Bo(t,e){var n=new No;return e=g(n,1,L(e.u),0),d(t,6,ar,e),t}function zo(t){var e=new Po;return d(t,5,ar,e),t}const Jo=_e().set("co-doing",1).set("co-watching",2).D();async function ur(t,e,n){var r=e.C,i=new Oe,s=new jo;s=g(s,1,_(t.activityTitle),"");var o=Jo.get(t.K);s=g(s,2,L(o),0),i=d(i,3,Le,s),r=await r.call(e,i,lo);let l;if((l=et(cn(R(r,1)),!1))!=null&&l)return new Wo(t,e,n,ce(r,Me,2));throw new Mo}function fr(t,e){const n=t.config.N(e);n&&!t.config.M(t.g,n)&&(t.g=n,t.j=An(e),t.v(t.g))}function W(t,e){const{state:n,fa:r,context:i}=e(t.g);t.g=n,t.notify(t.g,i,r)}class Wo{constructor(e,n,r,i){this.l=e,this.h=n,this.config=r,this.v=Fr(s=>void this.l.O(s)),qo(this.h,s=>{const o=D(s,Dt);switch(o){case 1:fr(this,y(s,Me,1,Dt));break;case 2:case 0:console.warn(`IllegalMessage: ${o} - Unhandled message - Please raise a bug with the MeetJS team`)}}),this.B=new Co({da:1e3,ha:()=>{var s,o,l=(o=(s=this.l).ja)==null?void 0:o.call(s);if(this.g!==null){this.g={...this.g,...l},s=new Oe,o=this.config,l=o.W;var a=new To;a=g(a,1,te(this.j),"0"),o=l.call(o,a,this.g),s=d(s,1,Le,o),this.h.send(s)}}}).start(),this.g=null,this.j=0,i&&fr(this,i)}disconnect(){this.h.shutdown(),this.B.shutdown()}notify(e,n,r){var i=r?ko(r):void 0;r=this.config;var s=r.X,o=new Uo;o=g(o,1,te(this.j),"0"),i=tt(o,4,i),e=s.call(r,i,e),e=this.config.V(e,n),n=this.h,r=n.send,s=new Oe,e=d(s,2,Le,e),r.call(n,e)}}var Go=class{constructor(t){this.g=t}broadcastStateUpdate(t){W(this.g,()=>({state:t,context:{}}))}disconnect(){this.g.disconnect()}};function Ko(t,e){return t==null||e==null?!1:t.bytes.length===e.bytes.length&&t.bytes.every((n,r)=>n===e.bytes[r])}var Vo=class{constructor(t){this.g=t}notifySwitchedToMedia(t,e,n){W(this.g,()=>({state:{mediaId:e,mediaPlayoutRate:1,mediaPlayoutPosition:n,playbackState:"PLAY"},fa:{activityTitle:t},context:{u:1}}))}notifyPauseState(t,e){W(this.g,n=>{if(n==null)throw Error("Invalid before coWatchingState");return{state:{...n,playbackState:t?"PAUSE":"PLAY",mediaPlayoutPosition:e},context:{u:3}}})}notifySeekToTimestamp(t){W(this.g,e=>{if(e==null)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t},context:{u:2}}})}notifyPlayoutRate(t){W(this.g,e=>{if(e==null)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutRate:t},context:{u:4}}})}notifyBuffering(t){W(this.g,e=>{if(e==null)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t,playbackState:"BUFFERING"},context:{u:3}}})}notifyReady(t){W(this.g,e=>{if(e==null)throw Error("Invalid before coWatchingState");return{state:{...e,mediaPlayoutPosition:t},context:{u:3}}})}disconnect(){this.g.disconnect()}};function Yo(t,e){if(t==null||e==null)return!1;const n=t.playbackState==="PLAY"?3*Math.max(t.mediaPlayoutRate,1):0,r=Math.abs(t.mediaPlayoutPosition-e.mediaPlayoutPosition);return t.mediaId===e.mediaId&&t.mediaPlayoutRate===e.mediaPlayoutRate&&r<=n&&t.playbackState===e.playbackState}function qo(t,e){const n=mt(t.signal,r=>{e(r)});t.o.push(n)}var hr=class{constructor(t,e){this.channel=t,this.signal=e,this.o=[]}send(t){this.channel.send(fe(t))}async C(t,e){return t=await this.channel.C(fe(t)),e(t.data)}shutdown(){this.o.forEach(t=>{this.signal.detach(t)})}};function Ho(t,e){var n=ts;const r=t.signal(),i=t.signal();return mt(e,s=>{const o=n(s)?r:i;_t(t,o,s)},t),{ia:r,ga:i}}function Xo(t,e,n,r=i=>i){mt(n,i=>{_t(t,e,r(i))},t)}async function Qo(t,e){if(e)return t=await ur({activityTitle:e.activityTitle,K:"co-watching",ja:()=>e.onCoWatchingStateQuery(),O:n=>{e.onCoWatchingStateChanged(n)}},t,{X:Ro,W:Do,V:Bo,N:_o,M:Yo}),new Vo(t)}async function Zo(t,e){if(e)return t=await ur({activityTitle:e.activityTitle,K:"co-doing",O:n=>{e.onCoDoingStateChanged(n)}},t,{X:Oo,W:Lo,V:zo,N:bo,M:Ko}),new Go(t)}async function dr(t){const e=new Ue,n=e.signal();t=await t,Xo(e,n,t.signal,s=>s.content);const{ia:r,ga:i}=Ho(e,n);return{Z:new hr(t.channel,r),aa:new hr(t.channel,i)}}function ts(t){t:switch(D(t,Dt)){case 1:t=y(t,Me,1,Dt);break t;default:throw Error("CA Message arrived with no known content message set")}return t.g()}async function es(t,e){if({Z:t}=await dr(or(t.g)),e=await Zo(t,e),!e)throw Error("Failed to create co-doing session");return e}async function ns(t,e){if({aa:t}=await dr(or(t.g)),e=await Qo(t,e),!e)throw Error("Failed to create co-watching session");return e}var rs=class extends we{async notifySidePanel(t){await sr(this.context.g,1,t)}async unloadSidePanel(){await wo(this.context.g)}async loadSidePanel(){await So(this.context.g)}},is=class extends we{async setAddonStartingState(t){if(t===null)throw new f(de("addonStartingState"));if(typeof t!="object")throw new f(C("addonStartingState",typeof t,"object | undefined"));if(t.sidePanelUrl!==void 0&&typeof t.sidePanelUrl!="string")throw new f(C("sidePanelUrl",typeof t.sidePanelUrl,"string | undefined"));if(t.additionalData!==void 0&&typeof t.additionalData!="string")throw new f(C("additionalData",typeof t.additionalData,"string | undefined"));if(Object.keys(t).length!==+!!t.sidePanelUrl+ +!!t.additionalData)throw new f(Zr);if(Object.keys(t).length===0)throw new f(Qr);var e=[];e.push(pe(ye(ge(1),t.sidePanelUrl),t.additionalData)),t=this.context.g;var n=new ki,r=n.setAddonStartingState,i=new Fi;e=xn(i,e),await xo(t,r.call(n,e))}},os=class extends we{async notifyMainStage(t){await sr(this.context.g,2,t)}},ss=class{constructor(t){t=t.cloudProjectNumber;const e=Se();if(e.cloudProjectNumber!==t)throw new f(Vr);const n=e.S,r=e.ba;let i;be=(i=be)!=null?i:fo(r,n,t),this.g=new Eo(e)}async createMainStageClient(){var t=this.g;if(t.h.frameType!==2)throw new f(jn);return await Promise.resolve(new rs(t))}async createSidePanelClient(){var t=this.g;if(t.h.frameType!==1)throw new f(Wr);return await Promise.resolve(new os(t))}async createCoWatchingClient(t){return await ns(this.g,t)}async createCoDoingClient(t){return await es(this.g,t)}async createRoomsStandaloneClient(){var t=this.g;if(t.h.frameType!==2)throw new f(jn);return await Promise.resolve(new is(t))}};let gr=null;var yr={addon:{getFrameType:function(){t:{var t=Se().frameType;switch(t){case 2:t="MAIN_STAGE";break t;case 1:t="SIDE_PANEL";break t;default:throw Error(`Unknown frame type: ${t}`)}}return t},createAddonSession:async function(t){if(t===null)throw new f(de("config"));if(typeof t!="object")throw new f(C("config",typeof t,"object"));if(typeof t.cloudProjectNumber!="string")throw new f(C("cloudProjectNumber",typeof t.cloudProjectNumber,"string"));if(gr&&Se().S!=="integration.test.google.com")throw new f(ai);return gr=new ss(t)}}},St=["meet"],M=h;St[0]in M||typeof M.execScript>"u"||M.execScript("var "+St[0]);for(var G;St.length&&(G=St.shift());)St.length||yr===void 0?M[G]&&M[G]!==Object.prototype[G]?M=M[G]:M=M[G]={}:M[G]=yr}).apply(vr);const as=vr.meet,ls="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20aria-hidden='true'%20role='img'%20class='iconify%20iconify--logos'%20width='32'%20height='32'%20preserveAspectRatio='xMidYMid%20meet'%20viewBox='0%200%20256%20256'%3e%3cpath%20fill='%23007ACC'%20d='M0%20128v128h256V0H0z'%3e%3c/path%3e%3cpath%20fill='%23FFF'%20d='m56.612%20128.85l-.081%2010.483h33.32v94.68h23.568v-94.68h33.321v-10.28c0-5.69-.122-10.444-.284-10.566c-.122-.162-20.4-.244-44.983-.203l-44.74.122l-.121%2010.443Zm149.955-10.742c6.501%201.625%2011.459%204.51%2016.01%209.224c2.357%202.52%205.851%207.111%206.136%208.208c.08.325-11.053%207.802-17.798%2011.988c-.244.162-1.22-.894-2.317-2.52c-3.291-4.795-6.745-6.867-12.028-7.233c-7.76-.528-12.759%203.535-12.718%2010.321c0%201.992.284%203.17%201.097%204.795c1.707%203.536%204.876%205.649%2014.832%209.956c18.326%207.883%2026.168%2013.084%2031.045%2020.48c5.445%208.249%206.664%2021.415%202.966%2031.208c-4.063%2010.646-14.14%2017.879-28.323%2020.276c-4.388.772-14.79.65-19.504-.203c-10.28-1.828-20.033-6.908-26.047-13.572c-2.357-2.6-6.949-9.387-6.664-9.874c.122-.163%201.178-.813%202.356-1.504c1.138-.65%205.446-3.129%209.509-5.485l7.355-4.267l1.544%202.276c2.154%203.29%206.867%207.801%209.712%209.305c8.167%204.307%2019.383%203.698%2024.909-1.26c2.357-2.153%203.332-4.388%203.332-7.68c0-2.966-.366-4.266-1.91-6.501c-1.99-2.845-6.054-5.242-17.595-10.24c-13.206-5.69-18.895-9.224-24.096-14.832c-3.007-3.25-5.852-8.452-7.03-12.8c-.975-3.617-1.22-12.678-.447-16.335c2.723-12.76%2012.353-21.659%2026.25-24.3c4.51-.853%2014.994-.528%2019.424.569Z'%3e%3c/path%3e%3c/svg%3e",cs="/whoseturn/vite.svg";function us(K){let I=0;const V=Y=>{I=Y,K.innerHTML=`count is ${I}`};K.addEventListener("click",()=>V(I+1)),V(0)}const fs="564187822400",hs="https://adrianlara24.github.io/whoseturn/";async function ds(){const I=await(await as.addon.createAddonSession({cloudProjectNumber:fs})).createSidePanelClient();document.getElementById("start-activity").addEventListener("click",async()=>{await I.startActivity({mainStageUrl:hs})})}await ds();document.querySelector("#app").innerHTML=`
  <div>
    <a href="https://vite.dev" target="_blank">
      <img src="${cs}" class="logo" alt="Vite logo" />
    </a>
    <a href="https://www.typescriptlang.org/" target="_blank">
      <img src="${ls}" class="logo vanilla" alt="TypeScript logo" />
    </a>
    <h1>Vite + TypeScript</h1>
    <div class="card">
      <button id="counter" type="button"></button>
    </div>
    <p class="read-the-docs">
      Click on the Vite and TypeScript logos to learn more
    </p>
  </div>
`;us(document.querySelector("#counter"));
